<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Midterm Project</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
  </head>

  <body>
    <%- include('partials/_header') %>
    <div class="container mt-5">
      <form class="border border-secondary p-4">
        <h2>My order:</h2>

        <ul class="list-group">
          <% for (const order of orders) { %>
          <li class="list-group-item">
            <span> <%= order.qty %> X </span>
            <span> <%= order.name %> </span>
            <span>
              <a href="#" class="btn btn-dark">+</a>
              <a href="#" class="btn btn-dark">-</a>
              <a href="#" class="btn btn-dark">X</a>
            </span>
            <span><%= `$${(order.price_charged / 100).toFixed(2)}` %></span>
          </li>
          <!-- <li class="list-group-item">
            <span>2 X </span>
            <span>Dumplings</span>
            <span>
              <a href="#" class="btn btn-dark">+</a>
              <a href="#" class="btn btn-dark">-</a>
              <a href="#" class="btn btn-dark">X</a>
            </span>
            <span>$25.98</span>
          </li>

          <li class="list-group-item">
            <span>1 X </span>
            <span>Ginger prawns</span>
            <span>
              <a href="#" class="btn btn-dark">+</a>
              <a href="#" class="btn btn-dark">-</a>
              <a href="#" class="btn btn-dark">X</a>
            </span>
            <span>$12.99</span>
          </li> -->
          <% } %>
        </ul>

        <!-- Mapped the order price * order qty for each item in an array, then added them together -->
        <p>total: <span class="ml-auto"><%= `$${(orders.map(order => order.price_charged * order.qty).reduce((a, b) => a + b) / 100).toFixed(2)}` %></span></p>

        <div class="form-group">
          <label for="specialInstructions">Special Instructions:</label>
          <textarea class="form-control"></textarea>
        </div>

        <div class="form-group">
          <label for="userName">Name</label>
          <input type="text" class="form-control" id="userName" placeholder="Enter name">
        </div>

        <div class="form-group">
          <label for="userPhoneNumber">Phone Number</label>
          <input type="tel" class="form-control" id="userPhoneNumber" placeholder="Enter phone number">
          <small class="form-text text-muted">We'll never share your phone number with anyone else.</small>
        </div>

        <button type="submit" class="btn btn-dark">Place Order</button>
      </form>
    </div>
  </body>
</html>
